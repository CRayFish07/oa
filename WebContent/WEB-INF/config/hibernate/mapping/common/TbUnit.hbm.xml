<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- Mapping file autogenerated by MyEclipse Persistence Tools -->
<hibernate-mapping>
	<union-subclass name="net.yasion.common.model.TbUnit" extends="net.yasion.common.model.BaseModel" table="tb_unit" lazy="false">
		<property name="name" type="java.lang.String">
			<column name="name" length="255">
				<comment>单位名称</comment>
			</column>
		</property>
		<property name="descr" type="java.lang.String">
			<column name="descr" length="1023">
				<comment>单位描述</comment>
			</column>
		</property>
		<property name="code" type="java.lang.String">
			<column name="code" length="255">
				<comment>单位编码</comment>
			</column>
		</property>
		<property name="address" type="java.lang.String">
			<column name="address" length="500">
				<comment>单位地址</comment>
			</column>
		</property>
		<property name="postcode" type="java.lang.String">
			<column name="postcode" length="50">
				<comment>单位邮编</comment>
			</column>
		</property>
		<property name="phone" type="java.lang.String">
			<column name="phone" length="50">
				<comment>单位联系电话</comment>
			</column>
		</property>

		<property name="startTime" type="java.lang.String">
			<column name="startTime" length="50">
				<comment>单位项目申报开始时间</comment>
			</column>
		</property>
		<property name="endTime" type="java.lang.String">
			<column name="endTime" length="50">
				<comment>单位项目申报结束时间</comment>
			</column>
		</property>
		<!-- <set name="tbUserUnitRelatings" inverse="false" cascade="save-update,delete-orphan"> <key> <column name="unit_id"> <comment>单位ID</comment> </column> </key> <one-to-many class="net.yasion.common.model.TbUserUnitRelating" /> </set> -->
		<set name="tbUsers" inverse="true" cascade="save-update" where="(NOT(flag = 'D') OR flag IS NULL)">
			<key>
				<column name="unit_id">
					<comment>单位ID</comment>
				</column>
			</key>
			<one-to-many class="net.yasion.common.model.TbUser" />
		</set>
		<set name="subUnits" inverse="true" cascade="save-update,delete-orphan" where="(NOT(flag = 'D') OR flag IS NULL)" order-by="create_date ASC, id ASC">
			<key>
				<column name="parent_id">
					<comment>父组织ID</comment>
				</column>
			</key>
			<one-to-many class="net.yasion.common.model.TbUnit" />
		</set>
		<many-to-one name="parent" column="parent_id" class="net.yasion.common.model.TbUnit" />
	</union-subclass>
</hibernate-mapping>